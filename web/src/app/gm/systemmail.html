<div class="panel panel-default" style="margin-left:20px;margin-right:20px"><div class="panel-body">
  <div class="modal-header">
    <label ng-if="vm.type==1">全服邮件</label>
    <label ng-if="vm.type==2">发送邮件</label>
  </div>
  <div class="modal-body">
    <div>
      <div ng-if="vm.type==2">
        <label>pid(多个pid,隔开)：</label>
        <input type="text" value="" class="input form-control" ng-model="vm.pid"><br>
        <div class="text-right">
          <button class="btn btn-success" ng-click="vm.checkPid(vm.pid)">检查pid有效性</button>
        </div>
      </div>
      <label>标题：</label>
      <input type="text" value="" class="input form-control" ng-model="vm.mail_title"><br>
      <label>内容：</label><br>
      <textarea cols="78" rows="6" value="" class="input form-control1" ng-model="vm.mail_body" style="width: 100%"></textarea><br>
      <label>奖励：</label> <br>
      <!--{{ vm.toExtStr(vm.mail_ext)}}-->
      <div ng-repeat="x in vm.mail_ext">
        <label>类型</label>
        <select ng-model="x.id" ng-options="x.id as vm.getItemTitle(x.id) for x in vm.itemlist" class="input form-control" style= "width:300px; display: inline-block"></select>
        <label>数量</label>
        <input type="text" value="" class="input form-control" ng-model="x.count" style="width:150px; display: inline-block">
        <button class="btn btn-small btn-danger" ng-click="vm.removeext(x)">删除</button>
      </div>
      <button ng-click="vm.addext()" class="btn btn-small btn-success">添加</button>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-success" ng-click="vm.addMail(vm.pid, vm.mail_title, vm.mail_body, vm.mail_ext)">确定</button>
  </div>
</div></div>

<div ng-if="vm.type==1" class="panel panel-default" style="margin-left:20px;margin-right:20px"><div class="panel-body">
  <label>历史全服邮件</label>
  <table width="100%" class="table table-striped table-bordered" style="margin-top: 10px" >
    <tr>
      <th>id</th>
      <th>title</th>
      <th>body</th>
      <th>ext</th>
      <th>tm</th>
    </tr>
    <tr ng-repeat="x in vm.list" ng-class="{guoqi:x.c!=1}">
      <td>{{x.id}}</td>
      <td>{{x.title}}</td>
      <td>{{x.body}}</td>
      <td>{{x.ext}}</td>
      <td>{{x.tm}}</td>
    </tr>
  </table>
</div></div>